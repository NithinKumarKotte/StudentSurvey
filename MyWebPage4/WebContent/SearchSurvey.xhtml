<?xml version="1.0" encoding="ISO-8859-1" ?>

<!-- Nithin Kumar Kotte G01035945-->


<!--Below depicted is an XHTML form which can be used to search survey records based on different combinations of 
First name, Last name , State, City.
The possible combinations are
1) Only First name
2) Only Lastname
3) Only State
4) Only City
5) Only Firstname and Lastname
6)Only Firstname, Lastname, City 
7) Only State and City
8) All the fields filled
9) None of the fields filled

The datatable populates based on the above combinations, As per requirement we also have last column as delete section to delete rows f
from search page as well as database.   -->


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	        xmlns:f="http://xmlns.jcp.org/jsf/core"
	        xmlns:ui="http://java.sun.com/jsf/facelets"
	        xmlns:p="http://primefaces.org/ui" >
	        
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Search Records</title>
</h:head>
<h:body style="background-color:powderblue">
	<p>Click here for Main web page: <a href="/MyWebPage4/WebPage.html"> Go to main web page</a></p>
	<center>
	<h1>Search Records</h1>
	<h:form>
		<h:panelGrid columns="2" style="height:96px; width:456px;">
		
	
		FirstName:
		<p:inputText id="firstname" value="#{student.firstName}" >
	<!-- 	<f:validator validatorId = "NameValidation" />  -->
		</p:inputText>
		
		LastName:<br></br>
		<p:inputText id="Lastname" value="#{student.lastName}">
	<!-- <f:validator validatorId = "NameValidation" /> -->	
		</p:inputText>
		
		City:<br></br>
		<p:inputText id="city" value="#{student.city}" >
		<!--  <f:validateRegex pattern="^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$" /> -->
		</p:inputText>
		
		
		State:<br></br>
		<p:inputText id="state" value="#{student.state}" >
		<!-- <f:validateRegex pattern="^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$" /> -->
		</p:inputText>
		</h:panelGrid> <br></br>
		<p:commandButton id="search-button" value="Search" action="#{student.SearchRecord}" ajax="false" ></p:commandButton>	
		
	</h:form>
	<br></br>
	<h:form>
		<h:dataTable value="#{student.totallist}" var="user" border="1" binding="#{table}">
			<h:column>
				<f:facet name="header">List Numbers</f:facet>
  				 <h:outputText value ="#{table.rowIndex + 1}">
  				 </h:outputText> <br/>
			</h:column>
			<h:column>
				<f:facet name="header">Contents of list</f:facet>
  				 <h:outputText value="#{user}" /> <br />
			</h:column>
			
			<h:column>
				<f:facet name="header">Delete Section</f:facet>

  				<p:commandButton id="Deleterecord" immediate = "true" value ="Delete Record" action="#{student.DeleteRecord(user)}" ajax="false">
  			
  				</p:commandButton>
			</h:column>
			
		</h:dataTable>
	</h:form>
	</center>

</h:body>
</html>